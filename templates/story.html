{# templates/story.html #}
{% extends "navbase.html" %}
{% block title %}Story{% endblock %}
{% block page_script %}{% endblock %}
{% block body %}
    <body class="story">
{% endblock %}
<body>
{% block page_content %}
  <div class="navbarStory">
      <a href="/storyDetail" class="nav-link">Table of Contents</a>
      <div class="dropdownStory">
        <button class="dropbtnStory"> {{ book_title[0] }} <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-contentStory">
          {% for chapter in range(1, num_chapters[0] + 1) %}
          <a href="/story/{{ storyId }}/{{ chapter }}" class="nav-link">Chapter {{ chapter }}</a> 
          {% endfor %}
        </div>
      </div>
    </div>

  <div class = "storyContent">
    <div class="story-story-info"> 
      <h1>{{ book_title[0] }}</h1>
      <a href="/user/{{author_name[0]}}" class="author-link">by {{author_name[0]}} </a>
    </div>
    <div class="separator"> 
      Chapter {{ chapterNum }}
    </div>
    <div class="story-content" style="text-align:left;">
      {{ chapter_content[0] | replace('\r\n\r\n', '<br><br>') | safe }} </div>
        {% if chapterNum == 1 %}
          <button class="chapter-button pure-button" id="button-extra" disabled>Previous Chapter</button>
        {% else %}
          <a href="/story/{{ storyId }}/{{ chapterNum - 1 }}"><button class="chapter-button pure-button" id="button-extra">Previous Chapter</button></a>
        {% endif %}

        {% if chapterNum == num_chapters[0] %}
          <button class="chapter-button pure-button" id="button-extra" disabled>Next Chapter</button>
        {% else %}
          <a href="/story/{{ storyId }}/{{ chapterNum + 1 }}"><button class="chapter-button pure-button" id="button-extra">Next Chapter</button></a>
        {% endif %} 
  </div>
{% endblock %}
{% block footer %}{% endblock %}
